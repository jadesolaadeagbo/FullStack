import{a,s as w,o as e}from"./chunk-DQRVZFIR-D7VV7TLo.js";import{L as y}from"./logo-lY71twTc.js";import{L as j}from"./login-C8Y_XXD2.js";import{g as b}from"./google-Bk_u_M2e.js";import{l as N,g as v}from"./auth-BPKaJ1x9.js";import{y as t}from"./index-CKk8P0yu.js";import{u as L}from"./authStore-CUMJ0Bj3.js";import{e as S,a as P}from"./eye-off-DSQ7H8ow.js";const $=()=>{const[l,c]=a.useState(""),[n,m]=a.useState(""),[d,g]=a.useState(!1),[o,i]=a.useState(!1),x=w(),{fetchUser:u}=L();a.useEffect(()=>{document.title="Login"},[]);const p=l.trim()!==""&&n.trim()!=="",h=async s=>{if(s.preventDefault(),!p){t(""),t.error("Please fill in all required fields.");return}i(!0);try{const r=await N({email:l.trim(),password:n});if(!r)throw new Error((r==null?void 0:r.message)||"Login failed. Please try again.");await u(),t.dismiss(),t.success("Login successful!"),x("/userProfile"),c(""),m("")}catch(r){console.error("Login error:",r),t.dismiss(),t.error(r.message||"Something went wrong during login.")}finally{i(!1)}},f=async s=>{s.preventDefault();try{i(!0),await v()}catch(r){console.error("Google login error:",r),t.dismiss(),t.error("Something went wrong with Google login.")}finally{i(!1)}};return e.jsxs("div",{className:"px-[5%] sm:px-20 lg:px-32 py-20 lg:py-10 h-screen",children:[e.jsx("img",{src:y,alt:"logo",height:"30px",width:"30px"}),e.jsxs("div",{className:"flex items-center lg:items-start justify-center xl:justify-between",children:[e.jsxs("div",{className:"pt-10 sm:pt-40 md:pt-30",children:[e.jsx("h1",{className:"text-5xl font-bold pb-3.5",children:"Login"}),e.jsx("p",{className:"font-light text-gray-500",children:"Login to access your account"}),e.jsxs("form",{className:" w-[90vw] lg:w-[80vw] xl:w-[550px]",onSubmit:h,children:[e.jsx("div",{className:"flex flex-col pt-5",children:e.jsx("input",{type:"email",className:"border border-gray-500 rounded-sm h-10 px-2",placeholder:"Email",value:l,onChange:s=>c(s.target.value),required:!0})}),e.jsxs("div",{className:"relative flex flex-col pt-5",children:[e.jsx("input",{type:d?"text":"password",className:"border border-gray-500 rounded-sm h-10 px-2",placeholder:"Password",value:n,onChange:s=>m(s.target.value),required:!0}),e.jsx("span",{className:"absolute right-3 top-[40px] transform -translate-y-1/2 cursor-pointer text-gray-600",onClick:()=>g(s=>!s),children:e.jsx("img",{src:d?S:P,width:20})})]}),e.jsxs("div",{className:"flex justify-between items-center pt-6",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"checkbox",className:"cursor-pointer"}),e.jsx("p",{className:"text-sm",children:"Remember me"})]}),e.jsx("a",{href:"/forgotPassword",className:"text-sm text-red-500",children:"Forgot password?"})]}),e.jsx("button",{type:"submit",disabled:o,className:`mt-10 w-full py-3 rounded-sm text-white 
                  ${o?"bg-blue-400":"bg-blue-600"}
                  ${o?"cursor-not-allowed":"cursor-pointer "}
                  transition-colors duration-200 ease-in-out`,children:o?"Logging in...":"Login"}),e.jsxs("div",{className:"text-center flex pt-5 justify-center",children:[e.jsx("span",{children:"Don't have an account? Â "}),e.jsx("a",{href:"/signup",className:"text-red-500",children:"Sign up"})]}),e.jsxs("div",{className:"flex items-center my-4",children:[e.jsx("div",{className:"flex-grow h-px bg-gray-300"}),e.jsx("span",{className:"mx-4 text-gray-500",children:"or"}),e.jsx("div",{className:"flex-grow h-px bg-gray-300"})]})]}),e.jsxs("button",{onClick:f,type:"button",className:"border cursor-pointer border-gray-400 py-2 w-full rounded-sm flex justify-center items-center gap-2",children:[e.jsx("img",{src:b,alt:"Google",height:20,width:20}),"Sign in with Google"]})]}),e.jsx("img",{src:j,alt:"login page",className:"pb-20 hidden xl:block",style:{height:"calc(100vh - 80px)"}})]})]})};export{$ as L};
