import{w as f,f as h}from"./auth-B3Ozg4Wo.js";import{s as b,a as l,o as e}from"./chunk-DQRVZFIR-D7VV7TLo.js";import{L as y}from"./logo-lY71twTc.js";import{f as w}from"./forgotPassword-DBpDdn6E.js";import{b as j}from"./back-B7fPkrzd.js";import{y as s}from"./index-CKk8P0yu.js";const v=()=>{const c=b(),[o,n]=l.useState(!1),[r,d]=l.useState("");l.useEffect(()=>{document.title="Forgot Password"},[]);const p=a=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.trim()),x=async a=>{var i,m;if(a.preventDefault(),!r.trim()){s.dismiss(),s.error("Email is required.");return}if(!p(r)){s.dismiss(),s.error("Please enter a valid email address.");return}n(!0);try{await h({email:r}),s.dismiss(),s.success("A Verification code has been sent to your email. It will expire in 5 minutes"),d(""),c("/verifyCode",{state:{email:r}})}catch(t){console.error("Forgot password error:",t);const u=((m=(i=t==null?void 0:t.response)==null?void 0:i.data)==null?void 0:m.message)||(t==null?void 0:t.message)||"An unexpected error occurred. Please try again later.";s.dismiss(),s.error(u)}finally{n(!1)}},g=a=>{d(a.target.value)};return e.jsx("div",{className:"px-10 md:px-32 py-10 md:py-20 lg:py-10 h-screen",children:e.jsxs("div",{children:[e.jsx("img",{src:y,alt:"",height:"30px",width:"30px"}),e.jsxs("div",{className:" flex items-start justify-between ",children:[e.jsxs("div",{className:"pt-10 md:pt-30 w-[90vw] lg:w-[550px]",children:[e.jsxs("a",{href:"/login",className:"flex gap-2 pl-2 pb-4 text-sm",children:[e.jsx("img",{src:j,alt:"",width:10,height:10}),"Back to login"]}),e.jsx("h1",{className:" text-2xl md:text-5xl font-bold pb-3.5 md:pt-10 xl:pt-0",children:"Forgot your password?"}),e.jsx("p",{className:"font-light text-gray-500 pt-5",children:"Donâ€™t worry, happens to all of us. Enter your email below to recover your password"}),e.jsxs("form",{onSubmit:x,children:[e.jsx("div",{className:"flex flex-col pt-5",children:e.jsx("input",{value:r,onChange:g,type:"text",className:"border border-gray-500 rounded-sm h-10 px-2",placeholder:"Email"})}),e.jsx("button",{type:"submit",disabled:o,className:`cursor-pointer mt-10 text-white bg-blue-600 py-3 w-full rounded-sm ${o?"bg-blue-400":"bg-blue-600"}
                  transition-colors duration-200 ease-in-out`,children:o?"Verifying...":"Verify"})]})]}),e.jsx("img",{src:w,alt:"login page",className:"pb-20 hidden xl:block",style:{height:"calc(100vh - 80px)"}})]})]})})},V=f(v);export{V as default};
